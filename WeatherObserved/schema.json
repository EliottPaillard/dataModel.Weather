{
  "$schema": "http://json-schema.org/schema#",
  "$schemaVersion": "0.0",
  "$id": "https://smart-data-models.github.io/dataModel.Weather/WeatherObserved/schema.json",
  "title": " - Weather Observed schema",
  "description": "An observation of weather conditions at a certain place and time. This data model has been developed in cooperation with mobile operators and the GSMA.",
  "type": "object",
  "allOf": [
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-Commons/allOf/properties"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "WeatherObserved"
          ],
          "description": "Property. NGSI Entity type. It has to be WeatherObserved"
        },
        "dateObserved": {
          "type": "string",
          "format": "date-time",
          "description": "Property. Model:'https://schema.org/DateTime'. Date of the observation"
        },
        "temperature": {
          "$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/temperature"
        },
        "feelsLikeTemperature": {
          "$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/feelsLikeTemperature"
        },
        "relativeHumidity": {
          "$ref": "https://smart-data-models.github.io/dataModel.Weather/weather-schema.json#/definitions/Weather-AirConditions/properties/relativeHumidity"
        },
        "precipitation": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. Amount of water rain registered. Unis:'Liters per square meter'. "
        },
        "atmosphericPressure": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. The atmospheric pressure observed measured in Hecto Pascals. Units:'Hecto pascals'"
        },
        "solarRadiation": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. The solar radiation observed measured in Watts per square. Units:'w/m2'"
        },
        "illuminance": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. (https://en.wikipedia.org/wiki/Illuminance) observed measured in lux (lx) or lumens per square metre (cd·sr·m−2)."
        },
        "pressureTendency": {
          "description": "Property. Model:'https://schema.org/DateTime'. Enum:'falling, raising, steady'. Is the pressure rising or falling? It can be expressed in quantitative terms or qualitative terms.",
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "raising",
                "falling",
                "steady"
              ]
            },
            {
              "type": "number"
            }
          ]
        },
        "dewPoint": {
          "type": "number",
          "description": "Property. Model:'https://schema.org/Number'. Units:'Celsius degrees'. The dew point encoded as a number"
        },
        "refDevice": {
          "description": "Relationship. Model:'https://schema.org/URL'. A reference to the device(s) which captured this observation.",
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 256,
              "pattern": "^[\\w\\-\\.\\{\\}\\$\\+\\*\\[\\]`|~^@!,:\\\\]+$",
              "description": "Property. Identifier format of any NGSI entity"
            },
            {
              "type": "string",
              "format": "uri",
              "description": "Property. Identifier format of any NGSI entity"
            }
          ]
        },
        "streamGauge": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. The water level surface elevation observed by Hydrometric measurement sensors, namely a [Stream Gauge](https://en.wikipedia.org/wiki/Stream_gauge) expressed in centimeters. Units:'centimeters'"
        },
        "snowHeight": {
          "type": "number",
          "minimum": 0,
          "description": "Property. Model:'https://schema.org/Number'. The snow height observed by generic snow depth measurement sensors, expressed in centimeters. Units:'centimeters'"
        },
        "uVIndexMax": {
          "type": "number",
          "minimum": 1,
          "description": "Property. Model:'https://schema.org/Number'. The maximum UV index for the period, based on the World Health Organization's UV Index measure. [http://www.who.int/uv/intersunprogramme/activities/uv_index/en/](http://www.who.int/uv/intersunprogramme/activities/uv_index/en/)"
        }
      }
    }
  ],
  "required": [
    "id",
    "type",
    "dateObserved",
    "location"
  ]
}

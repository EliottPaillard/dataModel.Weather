Entité : WeatherAlert  
=====================  
Cette spécification est une **version temporelle**. Elle est générée automatiquement à partir des propriétés documentées décrites dans le schema.json condensé dans le fichier `model.yaml`. Un fichier temporaire `nouveau_modèle.yaml` a été créé dans chaque modèle de données pour éviter d'avoir un impact sur les scripts existants. Ainsi, la spécification sera incomplète tant que le fichier schema.json n'est pas mis à jour au nouveau format (documentation des propriétés). Une fois mis à jour, le fichier `model.yaml` (`nouveau_model.yaml`) doit être mis à jour également (automatiquement) . Plus d'informations dans ce [lien](https://github.com/smart-data-models/data-models/blob/master/specs/warning_message_new_spec.md). Tant qu'il s'agit d'un format provisoire, tout [feedback est le bienvenu dans ce formulaire](https://smartdatamodels.org/index.php/submit-an-issue-2/) en choisissant l'option "Feedback sur la nouvelle spécification".  
Description globale : **Alerte météorologique générée par un utilisateur ou un appareil dans un lieu donné**  

## Liste des biens  

- `alertSource`: Source de l'alerte  - `category`: Catégorie de l'entité  - `data`: Charge utile contenant les données récupérées.  - `dateIssued`: La date et l'heure d'émission de l'article au format ISO8601 UTC.  - `description`: Description de l'entité  - `severity`: Gravité de l'alarme  - `subCategory`: Catégories météorologiques  - `type`: Type d'entité NGSI. Il doit s'agir de Alert  - `validFrom`: Le début de la période de validité de cette prévision au format ISO8601  - `validTo`: La fin de la période de validité de cette prévision au format ISO8601    
Propriétés requises  
- `alertSource`  - `category`  - `dateIssued`  - `id`  - `subCategory`  - `type`    
Ce dossier contient tous les artefacts logiciels permettant d'offrir des données d'alerte météorologique dans NGSI v2. La source de ces données est le service mondial [European Weather Alarm Service] (http://meteoalarm.eu).  
## Modèle de données description des biens  
Classement par ordre alphabétique (cliquez pour plus de détails)  
<details><summary><strong>full yaml details</strong></summary>    
```yaml  
WeatherAlert:    
  description: 'A weather alert generated by a user or device in a given location'    
  properties:    
    alertSource:    
      anyOf:    
        - description: 'Property. Identifier format of any NGSI entity'    
          maxLength: 256    
          minLength: 1    
          pattern: ^[\w\-\.\{\}\$\+\*\[\]`|~^@!,:\\]+$    
          type: string    
        - description: 'Property. Identifier format of any NGSI entity'    
          format: uri    
          type: string    
      description: 'Source of the alert'    
      type: Relationship    
      x-ngsi:    
        model: http://schema.org/URL.    
    category:    
      description: 'Category of the entity'    
      enum:    
        - weather    
      type: Property    
    data:    
      description: 'Payload containing the data retrieved.'    
      type: Property    
    dateIssued:    
      description: 'The date and time the item was issued in ISO8601 UTC format.'    
      format: date-time    
      type: Property    
      x-ngsi:    
        model: https://schema.org/DateTime    
    description:    
      description: 'Description of the Entity'    
      type: Property    
    severity:    
      description: 'Severity of the Alarm'    
      enum:    
        - informational    
        - low    
        - medium    
        - high    
        - critical    
      type: Property    
    subCategory:    
      description: 'Weather categories'    
      enum:    
        - avalanches    
        - coastalEvent    
        - coldWave    
        - flood    
        - fog    
        - forestFire    
        - heatWave    
        - highTemperature    
        - hurricane    
        - ice    
        - lowTemperature    
        - rainfall    
        - rain/flood    
        - snow    
        - snow/ice    
        - thunderstorms    
        - tornado    
        - tropicalCyclone    
        - tsunami    
        - wind    
      type: Property    
    type:    
      description: 'NGSI Entity type. It has to be Alert'    
      enum:    
        - Alert    
      type: Property    
    validFrom:    
      description: 'The start of the validity period for this forecast as a ISO8601 format'    
      format: date-time    
      type: Property    
      x-ngsi:    
        model: https://schema.org/DateTime    
    validTo:    
      description: 'The end of the validity period for this forecast as a ISO8601 format'    
      format: date-time    
      type: Property    
      x-ngsi:    
        model: https://schema.org/DateTime    
  required:    
    - id    
    - type    
    - alertSource    
    - category    
    - subCategory    
    - dateIssued    
  type: object    
```  
</details>    
## Exemples de charges utiles  
#### WeatherAlert NGSI V2 - Exemple de valeurs clés  
Voici un exemple d'alerte météo en format JSON comme valeurs clés. Il est compatible avec la version 2 du NGSI lorsque l'on utilise "options=keyValues" et renvoie les données de contexte d'une entité individuelle.  
```json  
{  
  "severity": "medium",  
  "category": "weather",  
  "subCategory": "snow/ice",  
  "alertSource": "http://www.meteoalarm.eu",  
  "address": {  
    "addressCountry": "ES",  
    "addressRegion": "Huesca"  
  },  
  "dateIssued": "2016-03-14T13:54:01.00Z",  
  "type": "Alert",  
  "id": "WeatherAlert-83b872975414bfca10832e564a1bb416-7",  
  "validTo": "2016-03-14T23:59:00.00Z",  
  "validFrom": "2016-03-14T13:00:00.00Z"  
}  
```  
#### WeatherAlert NGSI V2 normalisé Exemple  
Voici un exemple d'alerte météo au format JSON normalisé. Ce format est compatible avec la version 2 du NGSI lorsqu'il n'utilise pas d'options et renvoie les données de contexte d'une entité individuelle.  
```json  
{  
  "id": "WeatherAlert-83b872975414bfca10832e564a1bb416-7",  
  "type": "Alert",  
  "severity": {  
    "type": "Text",  
    "value": "medium"  
  },  
  "category": {  
    "type": "Text",  
    "value": "weather"  
  },  
  "subCategory": {  
    "type": "Text",  
    "value": "snow/ice"  
  },  
  "alertSource": {  
    "type": "Text",  
    "value": "http://www.meteoalarm.eu"  
  },  
  "address": {  
    "type": "PostalAddress",  
    "value": {  
      "addressCountry": "ES",  
      "addressRegion": "Huesca"  
    }  
  },  
  "dateIssued": {  
    "type": "DateTime",  
    "value": "2016-03-14T13:54:01.00Z"  
  },  
  "validTo": {  
    "type": "DateTime",  
    "value": "2016-03-14T23:59:00.00Z"  
  },  
  "validFrom": {  
    "type": "DateTime",  
    "value": "2016-03-14T13:00:00.00Z"  
  }  
}  
```  
#### WeatherAlert NGSI-LD exemple de valeurs clés  
Voici un exemple d'alerte météo au format JSON-LD en tant que valeurs clés. Il est compatible avec le format NGSI-LD lorsqu'il utilise "options=keyValues" et renvoie les données de contexte d'une entité individuelle.  
```json  
{  
  "id": "urn:ngsi-ld:WeatherAlert:WeatherAlert-83b872975414bfca10832e564a1bb416-7",  
  "type": "Alert",  
  "severity": "medium",  
  "category": "weather",  
  "subCategory": "snow/ice",  
  "alertSource": "http://www.meteoalarm.eu",  
  "address": {  
    "addressCountry": "ES",  
    "addressRegion": "Huesca"  
  },  
  "dateIssued": "2016-03-14T13:54:01.00Z",  
  "validTo": "2016-03-14T23:59:00.00Z",  
  "validFrom": "2016-03-14T13:00:00.00Z",  
  "@context": [  
    "https://smart-data-models.github.io/data-models/context.jsonld"  
  ]  
}  
```  
#### WeatherAlert NGSI-LD normalisé Exemple  
Voici un exemple d'alerte météo au format JSON-LD tel que normalisé. Il est compatible avec le format NGSI-LD lorsqu'il n'utilise pas d'options et renvoie les données de contexte d'une entité individuelle.  
```json  
{  
  "id": "urn:ngsi-ld:WeatherAlert:WeatherAlert-83b872975414bfca10832e564a1bb416-7",  
  "type": "Alert",  
  "severity": {  
    "type": "Text",  
    "value": "medium"  
  },  
  "category": {  
    "type": "Text",  
    "value": "weather"  
  },  
  "subCategory": {  
    "type": "Text",  
    "value": "snow/ice"  
  },  
  "alertSource": {  
    "type": "Text",  
    "value": "http://www.meteoalarm.eu"  
  },  
  "address": {  
    "type": "PostalAddress",  
    "value": {  
      "addressCountry": "ES",  
      "addressRegion": "Huesca"  
    }  
  },  
  "dateIssued": {  
    "type": "DateTime",  
    "value": "2016-03-14T13:54:01.00Z"  
  },  
  "validTo": {  
    "type": "DateTime",  
    "value": "2016-03-14T23:59:00.00Z"  
  },  
  "validFrom": {  
    "type": "DateTime",  
    "value": "2016-03-14T13:00:00.00Z"  
  },  
  "@context": [  
    "https://smart-data-models.github.io/data-models/context.jsonld"  
  ]  
}  
```  
